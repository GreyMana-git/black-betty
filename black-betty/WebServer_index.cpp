#include "WebServer.h"

#include <sys/pgmspace.h>

static const char webpage_index_local[] PROGMEM = R"###(
<!DOCTYPE html><html><head><meta charset="utf-8"><title>Gaggia Black Betty</title><script>parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"xHaz":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function u(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,s)}a((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function r(e){return"http://localhost:8080"===window.origin?"http://esp-grey"+e:window.origin+e}function n(e,t){var r=4*e;return{current:t[r],min:t[r+1],max:t[r+2],average:t[r+3]}}function o(o){return e(this,void 0,Promise,function(){var e,i,u,s,a,c;return t(this,function(t){switch(t.label){case 0:return[4,window.fetch(r("/status"),{method:"GET"})];case 1:return[4,t.sent().json()];case 2:for(e=t.sent(),i={id:e.id,token:e.token,temperature:e.temperature,pid:e.pid,heater:e.heater,window:e.window||1e3,history:[]},u=e.history.samples.length,s=0;s<u;s++)i.history.push({sequence:e.history.sequence[s],samples:e.history.samples[s],temperature:n(s,e.history.temperature),output:n(s,e.history.output),heater:n(s,e.history.heater),health:n(s,e.history.health)});return null!=o&&(a=i.history.map(function(e){return e.sequence}),(c=i.history).push.apply(c,o.history.filter(function(e){return-1===a.indexOf(e.sequence)}))),[2,i]}})})}function i(n,o){return e(this,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return e="TOKEN "+n.token+" "+o,[4,window.fetch(r("/command"),{method:"POST",body:e})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.executeCommand=exports.getStatusData=exports.getApiUri=void 0,exports.getApiUri=r,exports.getStatusData=o,exports.executeCommand=i;
},{}],"tmWP":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HistoryGraph=void 0;var e=function(){function e(e,i,n,o){this.element=window.document.getElementById(e),this.property=i,this.axisInfo=t({},o),n=n.trim().replace("#",""),this.color={r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16)}}return e.prototype.getColor=function(t){return void 0===t&&(t=1),1===t?"rgb("+[this.color.r,this.color.g,this.color.b].join(",")+")":"rgba("+[this.color.r,this.color.g,this.color.b,t].join(",")+")"},e.prototype.resize=function(){var t=this.element.getBoundingClientRect(),e=t.width,i=t.height;this.element.width=e,this.element.height=i;var n=this.element.getBoundingClientRect();e==n.width&&i==n.height||(this.element.width+=e-n.width,this.element.height=i-n.height)},e.prototype.line=function(t,e,i,n,o){t.beginPath(),t.moveTo(e,i),t.lineTo(n,o),t.stroke()},e.prototype.update=function(t){var e,i=this,n=null===(e=this.element)||void 0===e?void 0:e.getContext("2d");if(null!=n){this.resize();var o={left:48,bottom:20,width:this.element.width-48,fullWidth:this.element.width,height:this.element.height-20,fullHeight:this.element.height,minValue:this.axisInfo.minValue,maxValue:this.axisInfo.maxValue,count:this.axisInfo.maxItems},r=[];t.history.slice(0,o.count).forEach(function(t){var e=t[i.property];o.minValue=Math.min(o.minValue,e.min),o.maxValue=Math.max(o.maxValue,e.max),r.push(e)});for(var h={x:[],xposy1:o.height,xposy2:0,y:[],yposx1:o.left,yposx2:o.fullWidth},l=0;l<o.count;l++)h.x.push({x:a(l),label:(-l*t.window/1e3).toFixed(1)+"s"});for(l=Math.floor(o.minValue/this.axisInfo.gridStep)*this.axisInfo.gridStep;l<o.maxValue;l+=this.axisInfo.gridStep)h.y.push({y:u(l),label:l+this.axisInfo.unit});n.clearRect(0,0,this.element.width,this.element.height),n.lineWidth=1,n.strokeStyle="rgba(32, 32, 32, 0.10)",h.x.forEach(function(t){return i.line(n,t.x,h.xposy1,t.x,h.xposy2)}),h.y.forEach(function(t){return i.line(n,h.yposx1,t.y,h.yposx2,t.y)}),n.font="16px sans-serif",n.strokeStyle=n.fillStyle="rgb(32, 32, 32)",this.line(n,a(0),u(0),a(o.count-1),u(0)),this.line(n,a(o.count-1),u(o.minValue),a(o.count-1),u(o.maxValue)),n.textAlign="center",h.x.forEach(function(t){return n.fillText(t.label,t.x,h.xposy1+16)}),n.textAlign="right",h.y.forEach(function(t){return n.fillText(t.label,h.yposx1-4,t.y)});var s=r[0];n.fillStyle=this.getColor(.15),n.beginPath(),n.moveTo(a(0),u(s.max)),r.forEach(function(t,e){n.lineTo(a(e),u(t.max))}),r.slice().reverse().forEach(function(t,e){n.lineTo(a(r.length-e-1),u(t.min))}),n.fill(),n.strokeStyle=this.getColor(.5),n.beginPath(),n.moveTo(a(0),u(s.average)),r.forEach(function(t,e){n.lineTo(a(e),u(t.average))}),n.stroke(),n.strokeStyle=this.getColor(),n.lineWidth=2,n.beginPath(),n.moveTo(a(0),u(s.current)),r.forEach(function(t,e){n.lineTo(a(e),u(t.current))}),n.stroke(),n.font="12px sans-serif",n.textAlign="center",n.strokeStyle=n.fillStyle="rgb(32, 32, 32)",r.forEach(function(t,e){var o=a(e),r=u(t.current);n.beginPath(),n.arc(o,r,3,0,2*Math.PI),n.fill(),n.fillText(t.current.toFixed(2)+i.axisInfo.unit,o,r-10)})}function a(t){var e=(o.count-t-1)/(o.count-1)*o.width;return o.left+Math.floor(Math.max(0,Math.min(o.width,e)))+.5}function u(t){var e=o.height-(t-o.minValue)/(o.maxValue-o.minValue)*o.height;return Math.floor(Math.max(0,Math.min(o.height,e)))+.5}},e}();exports.HistoryGraph=e;
},{}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{d(i.next(e))}catch(t){a(t)}}function u(e){try{d(i.throw(e))}catch(t){a(t)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,u)}d((i=i.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(exports,"__esModule",{value:!0}),require("./src/StatusResponse");var n=require("./src/StatusResponse"),i=require("./src/HistoryGraph"),r=null;function a(e,t){"number"==typeof t?t=t.toString():"boolean"==typeof t&&(t=t.toString());var n=window.document.getElementById(e);n instanceof HTMLInputElement?n.value=t:n instanceof HTMLElement&&(n.textContent=t)}function o(){return e(this,void 0,Promise,function(){var e,i,u;return t(this,function(t){switch(t.label){case 0:return null==r?[2]:(e=r,[4,n.getStatusData(r.data)]);case 1:return e.data=t.sent(),a("overview-temperature",(i=r.data).temperature.current.toFixed(3)),a("overview-mode",i.heater.mode),a("overview-toggleEnable","off"===i.heater.mode?"Enable":"Disable"),a("temperature-current",i.temperature.current),a("temperature-target",i.temperature.target),a("temperature-low",i.temperature.low.toFixed(1)),a("temperature-high",i.temperature.high.toFixed(1)),a("pid-kp",i.pid.kp.toFixed(3)),a("pid-ki",i.pid.ki.toFixed(3)),a("pid-kd",i.pid.kd.toFixed(3)),a("pid-input",i.pid.input.toFixed(3)),a("pid-output",i.pid.output.toFixed(3)),a("pid-setpoint",i.pid.setpoint.toFixed(3)),a("heater-mode",i.heater.mode),a("heater-active",i.heater.active),u=r,[4,n.getStatusData(i)];case 2:return u.data=t.sent(),r.graph.temperature.update(i),r.graph.output.update(i),r.graph.heater.update(i),r.graph.health.update(i),window.setTimeout(function(){o()},1e3),[2]}})})}window.document.addEventListener("DOMContentLoaded",function(){var u,d,l,s,c,p,m,v=new i.HistoryGraph("graph-temperature","temperature","#ff0000",{minValue:30,maxValue:150,maxItems:15,gridStep:10,unit:"â„ƒ"}),h=new i.HistoryGraph("graph-output","output","#0000ff",{minValue:-260,maxValue:260,maxItems:15,gridStep:50,unit:""}),f=new i.HistoryGraph("graph-heater","heater","#00ff00",{minValue:0,maxValue:1,maxItems:15,gridStep:.25,unit:""}),g=new i.HistoryGraph("graph-health","health","#ffa000",{minValue:0,maxValue:50,maxItems:15,gridStep:10,unit:"ms"});r={data:null,graph:{temperature:v,output:h,heater:f,health:g}},null===(u=window.document.getElementById("setting-open"))||void 0===u||u.addEventListener("click",function(){var e=window.document.getElementById("setting-dialog");if(null!=e&&null!=r&&null!=r.data){var t=null==r?void 0:r.data;a("setting-temperature-low",t.temperature.low),a("setting-temperature-high",t.temperature.high),a("setting-pid-kp",t.pid.kp),a("setting-pid-ki",t.pid.ki),a("setting-pid-kd",t.pid.kd),e.style.display="block"}}),null===(d=window.document.getElementById("setting-close"))||void 0===d||d.addEventListener("click",function(){var e=window.document.getElementById("setting-dialog");null!=e&&(e.style.display="none")}),null===(l=window.document.getElementById("setting-apply-temperature"))||void 0===l||l.addEventListener("click",function(){return e(void 0,void 0,void 0,function(){var e,i,a,o,u;return t(this,function(t){switch(t.label){case 0:return null==(e=null==r?void 0:r.data)?[2]:(i=parseFloat((null===(o=window.document.getElementById("setting-temperature-low"))||void 0===o?void 0:o.value)||""),a=parseFloat((null===(u=window.document.getElementById("setting-temperature-high"))||void 0===u?void 0:u.value)||""),[4,n.executeCommand(e,"SET heater.low "+i)]);case 1:return t.sent(),[4,n.executeCommand(e,"SET heater.high "+a)];case 2:return t.sent(),[2]}})})}),null===(s=window.document.getElementById("setting-apply-pid"))||void 0===s||s.addEventListener("click",function(){return e(void 0,void 0,void 0,function(){var e,i,a,o,u,d,l;return t(this,function(t){switch(t.label){case 0:return null==(e=null==r?void 0:r.data)?[2]:(i=parseFloat((null===(u=window.document.getElementById("setting-pid-kp"))||void 0===u?void 0:u.value)||""),a=parseFloat((null===(d=window.document.getElementById("setting-pid-ki"))||void 0===d?void 0:d.value)||""),o=parseFloat((null===(l=window.document.getElementById("setting-pid-kd"))||void 0===l?void 0:l.value)||""),[4,n.executeCommand(e,"SET pid "+i+" "+a+" "+o)]);case 1:return t.sent(),[2]}})})}),null===(c=window.document.getElementById("setting-save"))||void 0===c||c.addEventListener("click",function(){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return null==(e=null==r?void 0:r.data)?[2]:[4,n.executeCommand(e,"SAVE")];case 1:return t.sent(),[2]}})})}),null===(p=window.document.getElementById("setting-restart"))||void 0===p||p.addEventListener("click",function(){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return null==(e=null==r?void 0:r.data)?[2]:[4,n.executeCommand(e,"RESTART")];case 1:return t.sent(),[2]}})})}),null===(m=window.document.getElementById("overview-toggleEnable"))||void 0===m||m.addEventListener("click",function(){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return null==(e=null==r?void 0:r.data)?[2]:"off"!==e.heater.mode?[3,2]:[4,n.executeCommand(e,"SET heater.enabled true")];case 1:return t.sent(),[3,4];case 2:return[4,n.executeCommand(e,"SET heater.enabled false")];case 3:t.sent(),t.label=4;case 4:return[2]}})})}),o()});
},{"./src/StatusResponse":"xHaz","./src/HistoryGraph":"tmWP"}]},{},["QCba"], null)
</script><style>body{font-family:sans-serif;margin:0;color:#0d0d0d}header{padding:24px;color:#f9f9fa;background-color:#0d0d0d;font-size:64px;line-height:40px;box-shadow:0 4px 2px -2px rgba(0,0,0,.6)}h1{margin:0;font-size:32px}#tokeninfo{font-size:18px;color:#404040;float:right}.panel{width:100%;max-width:1024px;margin:16px auto;padding:8px;background-color:#ebe9e1;box-shadow:4px 4px 2px -2px rgba(0,0,0,.6);box-sizing:border-box}.panel .panel-content{display:grid;grid-template-columns:108px 1fr}.graph-wrapper{position:relative;padding-top:50%;height:0}.graph{position:absolute;left:0;top:0;width:100%;height:100%}.overview-grid{display:grid;grid-template-columns:2fr 1fr}.overview .overview-temperature{font-size:80px;display:inline-block;width:50%;text-align:right}.panel .side-grid div:nth-of-type(odd){font-weight:700}.panel .side-grid div:nth-of-type(2n){padding-bottom:12px}.setting-panel{position:fixed;top:0;left:0;width:50%;height:100%;box-shadow:4px 0 2px -2px rgba(0,0,0,.6);background-color:#fff;padding:24px;overflow-y:auto;display:none}#setting-open{cursor:pointer}.setting-close{float:right;cursor:pointer}.setting-panel h2{padding-top:24px}.setting-panel .setting-grid div:nth-of-type(odd){font-size:24px;font-weight:700}.setting-panel .setting-grid div:nth-of-type(2n){padding-bottom:24px}input[type=text]{height:40px;padding:0 8px;font-size:24px;background-color:#f9f9fa;border:1px solid #0d0d0d;width:100%;box-sizing:border-box}button,input[type=button]{height:40px;font-size:24px;background-color:#106ebe;color:#f9f9fa;padding:4px 16px;border:0;width:33%;margin:0 0 0 auto;display:block;cursor:pointer}button:hover,input[type=button]:hover{background-color:#2080f0}
</style></head><body> <header> <img id="setting-open" class="icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANNSURBVEhLnZa7NutBFMZ3chQai07j1lt0GqFUEKWGeAB0KpfqVMIDoFO5PEDkBVwewCUNVdBQoVPNmd93sv9rJHEuvrXGzOz/nj3fvsyOXFdXV7BvolQq2ebmpp2dndny8rJkef39JlZWVmx8fNx6enpsdHRUsr8aRLG7u7uxa8Xb25tm1/mjwYGBATs5ObGdnZ2G5Gu4YSOGfX19YWtrK8RYhMPDwzA/Px+Qn56eah2VpYMsHQ8PD5L7jCwP1Wq1qhv29/ctflSwj4+PbWJiQuP19VV7Ag/rdnCGP9bX13/e39/b1NSUdXZ22urqqrEn0M/Pz9bb25spj42N2dzcnL28vNjd3Z3Nzs7ax8eHjYyM2MHBgXQ6EJbLZRlYW1tTcGF1c3MjZjBOQWavr6+1Pj8/V9mEEOQdZzswhBuuNDk5aTF2+oibHEpB1tE5OjrSvl6v2+DgoAwSkjwHcImbMdDf3y9XgF/i4BLcwwPWjphQGYRcnptIAi6SnGKxaFdXV2LmsXNwEXrv7+9au3cYRzdWxO+yiYfD0tJSDEXQmpGWB6NQKIR4kUqrUqloHd0NMzMzYW9vLzsjgwgRRLY62M4gsrQWh4eHRYA19epn9FLiRi4xey22QxoCdB4fH21jY0Ox9m9ZtyFzfEQxuvApIU9PTy0JcpBhwHdiKIYElZSTPcqATDbDGUQvtU5nkuheySC1RfYWFhZ0I2ybAQMu4yD97+LiQjMyXOdRgKzbUC7c6AdTODuMMSgX4DMPwSGDuEgN4jKHeYopeIJfNYWhoaFPBJQUTwbDg4/rrHGfGFPI/twcEOFbSqCjMeuRcxMKGKOEiC3u8JJ2d3db3jXAqxRZDDnow0uACwi2s/4XyCDxc2b+Y8P+O5BBGBAPjwklROyY/xfZS4EZz44sY5QEETPqjR8qLm123buNuowDgz5oEvEQb16gA7ks1aGB+J5Og8z3Lf85XF5eZk8PliSG2HrJeBl5MZPl7e3trAI+GUSxVqupRFJwCKM0DYBR1iQz/shlctDCEKOeaUANYoA48TPhDQTkcjmL7mrtyOrQQVKgz/CsT09PiwUyWN3e3qrVwboZLQxTkN3Y7m1xcVGsaVO8XS7xdezcDW1g9guTdXCwgupdzgAAAABJRU5ErkJggg=="> Gaggia Black Betty <span id="tokeninfo">12345678</span> </header> <div class="content"> <div class="panel overview"> <h1>Overview</h1> <div class="overview-grid"> <div class="side-grid"> <div>Current temperature:</div> <div class="overview-temperature"><span id="overview-temperature"></span>&#8451;</div> </div> <div class="side-grid"> <div>Current Mode:</div> <div class="overview-temperature"><span id="overview-mode"></span></div> <div> <button id="overview-toggleEnable">Enable</button> </div> </div> </div> </div> <div class="panel temperature"> <h1>Temperature</h1> <div class="panel-content"> <div> <div class="side-grid"> <div>Current:</div><div><span id="temperature-current"></span> &#8451;</div> <div>Target:</div><div><span id="temperature-target"></span> &#8451;</div> <div>Low:</div><div id="temperature-low"></div> <div>High:</div><div id="temperature-high"></div> </div> </div> <div class="graph-wrapper"> <canvas class="graph" id="graph-temperature"></canvas> </div> </div> </div> <div class="panel pid"> <h1>PID Status</h1> <div class="panel-content"> <div class="side-grid"> <div>kp:</div><div id="pid-kp"></div> <div>ki:</div><div id="pid-ki"></div> <div>kd:</div><div id="pid-kd"></div> <div>Input:</div><div id="pid-input"></div> <div>Output:</div><div id="pid-output"></div> <div>Setpoint:</div><div id="pid-setpoint"></div> </div> <div class="graph-wrapper"> <canvas class="graph" id="graph-output"></canvas> </div> </div> </div> <div class="panel heater"> <h1>Heater Relay</h1> <div class="panel-content"> <div class="side-grid"> <div>Mode:</div><div id="heater-mode"></div> <div>Active:</div><div id="heater-active"></div> </div> <div class="graph-wrapper"> <canvas class="graph" id="graph-heater"></canvas> </div> </div> </div> <div class="panel heater"> <h1>Health (ms in loop)</h1> <div class="panel-content"> <div></div> <div class="graph-wrapper"> <canvas class="graph" id="graph-health"></canvas> </div> </div> </div>  </div> <div id="setting-dialog" class="setting-panel"> <h1>Settings<span class="setting-close" id="setting-close">&#10006;</span></h1> <div class="setting-grid"> <h2>Temperature</h2> <div>Low Temperature</div> <div><input type="text" id="setting-temperature-low"></div> <div>High Temperature</div> <div><input type="text" id="setting-temperature-high"></div> <button id="setting-apply-temperature">Apply Temperature</button> <h2>PID</h2> <div>kp</div> <div><input type="text" id="setting-pid-kp"></div> <div>ki</div> <div><input type="text" id="setting-pid-ki"></div> <div>kd</div> <div><input type="text" id="setting-pid-kd"></div> <button id="setting-apply-pid">Apply PID</button> <h2>System</h2> <button id="setting-save">Save configuration</button> <div style="height:24px">&nbsp;</div> <button id="setting-restart">Restart</button> </div> </div> </body></html>
)###";

const __FlashStringHelper* WebServer::webpage_index_content = reinterpret_cast<const __FlashStringHelper*>(webpage_index_local);
